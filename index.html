
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#milkyway-api" class="toc-h1 toc-link" data-title="Milkyway API">Milkyway API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#definition" class="toc-h2 toc-link" data-title="Definition">Definition</a>
                  </li>
                  <li>
                    <a href="#prerequisites" class="toc-h2 toc-link" data-title="Prerequisites">Prerequisites</a>
                  </li>
                  <li>
                    <a href="#populate-endpoint" class="toc-h2 toc-link" data-title="Populate endpoint"><strong>Populate endpoint</strong></a>
                  </li>
                  <li>
                    <a href="#matching-endpoint" class="toc-h2 toc-link" data-title="Matching endpoint"><strong>Matching endpoint</strong></a>
                  </li>
                  <li>
                    <a href="#autocomplete-endpoint" class="toc-h2 toc-link" data-title="Autocomplete endpoint"><strong>Autocomplete endpoint</strong></a>
                  </li>
                  <li>
                    <a href="#autosuggest-endpoint" class="toc-h2 toc-link" data-title="Autosuggest endpoint"><strong>Autosuggest endpoint</strong></a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://www.sortlist.com'>Documentation Powered by Sortlist</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='milkyway-api'>Milkyway API</h1>
<p>Help businesses and entities manage skills, suggestions and matches in one place. Milkyway API&#39;s can help manage multiple skills on multiple environments. You can also automate creating entities and link them to the Milkyway skills space enabling them to be used for matching.</p>

<p>In Milkyway you connect entities with skills and perform actions like:
  - Insert/Update an entity into Milkyway (link entity to skills space) | Once inserted, entity will be used for matching algorithm.
  - Get suggestions of related skills for speciefied skills | Using complex network.
  - Get autcomplete list of skills for specified prefix.
  - Get matching entities for specified skills | Using complex network.</p>
<h2 id='definition'>Definition</h2>
<p>The goal of this page is to define the high level architecture of the Milkyway API that you can interact with.</p>
<h2 id='prerequisites'>Prerequisites</h2>
<p>To be defined...</p>

<!-- POPULATE ENDPOINT DOC -->

<p>For example, insert or update a new Entity with skills on a specifict environment with a PUT:</p>
<h2 id='populate-endpoint'><strong>Populate endpoint</strong></h2>
<aside class="warning">
Bearer token needed for authentification!
</aside>

<blockquote>
<p>Shell command:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 --header <span class="s2">"Authorization: Bearer &lt;ACCESS_TOKEN&gt;"</span><span class="se">\</span>
 --request PUT <span class="se">\</span>
 --data <span class="s1">'{"skills": ["&lt;SKILL_1&gt;", "&lt;SKILL_2&gt;", "&lt;SKILL_3&gt;", "&lt;SKILL_4&gt;", "&lt;SKILL_5&gt;", "&lt;SKILL_6&gt;", "&lt;SKILL_7&gt;"]}'</span> <span class="se">\</span>
 https://milkyway.sortlist.com/v1/&lt;ENVIRONMENT&gt;/entities/&lt;ENTITY_ID&gt;
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
  <span class="o">{</span>
   <span class="s2">"id"</span>: <span class="s2">"entity-id"</span>,
   <span class="s2">"skills"</span>: <span class="o">[</span>
       <span class="s2">"&lt;SKILL_1&gt;"</span>,
       <span class="s2">"&lt;SKILL_2&gt;"</span>,
       <span class="s2">"&lt;SKILL_3&gt;"</span>,
       <span class="s2">"&lt;SKILL_4&gt;"</span>,
       <span class="s2">"&lt;SKILL_5&gt;"</span>,
       <span class="s2">"&lt;SKILL_6&gt;"</span>,
       <span class="s2">"&lt;SKILL_7&gt;"</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<p>All the skills that do not have a value or whose length is larger than 100 characters will be ignored.</p>
<h3 id='http-request'>Http Request</h3>
<p><code>PUT http://milkyway.sortlist.com/v1/</code><strong><code>environment</code></strong><code>/entities/</code><strong><code>entity_id</code></strong></p>
<h3 id='path-parameters'>Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Necessary</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong><code>environment</code></strong></td>
<td><code>yes</code></td>
<td><code>string</code></td>
<td><code>Environment in which you want to store data staging/prod</code></td>
</tr>
<tr>
<td><strong><code>entity_id</code></strong></td>
<td><code>yes</code></td>
<td><code>string</code></td>
<td><code>ID (slug) of the entity</code></td>
</tr>
</tbody></table>
<h3 id='query-parameters'>Query Parameters</h3>
<p><strong><code>This endpoint does not use query parameters</code></strong></p>
<h3 id='body-arguments'>Body Arguments</h3>
<table><thead>
<tr>
<th>Argument</th>
<th>Necessary</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong><code>id</code></strong></td>
<td><code>no</code></td>
<td><code>string</code></td>
<td><code>ID (slug) of the entity</code></td>
</tr>
<tr>
<td><strong><code>skills</code></strong></td>
<td><code>yes</code></td>
<td><code>list(string)</code></td>
<td><code>List of entity&#39;s skills</code></td>
</tr>
</tbody></table>
<h3 id='description'>Description</h3>
<p>Endpoint specialized in adding a new agency (entity) in the Milkyway API&#39;s database, which will make the entity and the skills available for matching, auto-complete and auto-suggestion.
For each skill (input skill) from the list given in the request&#39;s body:</p>

<ul>
<li>Create a new entry (entry_id, environment, entity_skill) in table <code>mw_entity_skills</code>:

<ol>
<li><strong>entity_id</strong> : slug of the entity</li>
<li><strong>environment</strong> : staging/prod/dev</li>
<li><strong>entity_skill</strong> : is computed by replacing the whitespaces of an input skill with dash (as an internal normalization)

<ul>
<li>eg : input skill : <code>engine optimization</code> --&gt; entity_skill : <code>engine_optimization</code></li>
</ul></li>
</ol></li>
</ul>

<p>This entry represents the <strong>link between an entity and its entity skill</strong>.</p>

<ul>
<li>Create a new entry (entity_skill, milkyway_skill) (called translation) in table <code>mw_entity_skill_translation</code>:

<ol>
<li><strong>entity_skill</strong> : agency skill slug (input skill)</li>
<li><strong>milkyway_skill</strong> : is the best match of the input skill in the MW skills space. This is done using fuzzy matching.

<ul>
<li><code>entity skill</code>      &lt;=&gt;     <code>milkyway_skill</code></li>
<li>(database relation :  many (*) to one (1) )</li>
</ul></li>
</ol></li>
</ul>

<p>This entry represents the <strong>link between a entity skill and a milkyway skill</strong>.</p>

<!-- MATCHING ENDPOINT DOC -->
<h2 id='matching-endpoint'><strong>Matching endpoint</strong></h2>
<aside class="warning">
Bearer token needed for authentification!
</aside>

<blockquote>
<p>Shell command:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 --header <span class="s2">"Authorization: Bearer &lt;ACCESS_TOKEN&gt;"</span><span class="se">\</span>
 --request GET <span class="se">\</span>
 https://milkyway.sortlist.com/v1/&lt;ENVIRONMENT&gt;/matches?skills[]<span class="o">=</span>&lt;SKILL_1&gt;&amp;skills[]<span class="o">=</span>&lt;SKILL_2&gt;
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
  <span class="o">{</span>
      <span class="s2">"entity_id"</span>: <span class="s2">"echoua"</span>,
      <span class="s2">"score"</span>: 0.32
  <span class="o">}</span>,
  <span class="o">{</span>
      <span class="s2">"entity_id"</span>: <span class="s2">"mtd-creative-designs"</span>,
      <span class="s2">"score"</span>: 0.16
  <span class="o">}</span>
<span class="o">]</span>
</code></pre><h3 id='http-request-2'>Http Request</h3>
<p><code>GET http://milkyway.sortlist.com/v1/</code><strong><code>environment</code></strong><code>/matches?</code><strong><code>skills[]</code></strong><code>=&lt;skill_1&gt;&amp;</code><strong><code>skills[]</code></strong><code>=&lt;skill_2&gt;</code></p>
<h3 id='path-parameters-2'>Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Necessary</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong><code>environment</code></strong></td>
<td><code>yes</code></td>
<td><code>string</code></td>
<td><code>Environment in which you want to store data staging/prod</code></td>
</tr>
</tbody></table>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Query parameter</th>
<th>Necessary</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong><code>skills[]</code></strong></td>
<td><code>yes</code></td>
<td><code>string</code></td>
<td><code>Input skills</code></td>
</tr>
</tbody></table>
<h3 id='description-2'>Description</h3>
<p>Endpoint specialized in matching input skills with entities that exists in Milkyway API™ DB. A list of entities will be returned containing entity’s id and a matching score.</p>

<p><strong>Steps:</strong></p>

<ul>
<li>Retrieve a skeleton from MW using list of N input skills (query params)</li>
</ul>

<blockquote>
<p>SKELETON STRUCTURE</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
  &lt;PARENT NODE NAME FOR SKILL_1&gt;: <span class="o">{</span>
    <span class="s1">'level_1'</span>: <span class="o">[</span>
      <span class="o">{</span> <span class="s1">'name'</span>: &lt;milkyway skill&gt;
        <span class="s1">'seachable_name'</span>: &lt;milkyway skill&gt;
        <span class="s1">'agencies'</span>: <span class="o">[]</span>
      <span class="o">}</span>
      ...
    <span class="o">]</span>,
    <span class="s1">'level_2'</span>: <span class="o">[</span>
      <span class="o">{</span> <span class="s1">'name'</span>: &lt;milkyway skill&gt;
        <span class="s1">'seachable_name'</span>: &lt;milkyway skill&gt;
        <span class="s1">'agencies'</span>: <span class="o">[]</span>
      <span class="o">}</span>
      ...
    <span class="o">]</span>
  <span class="o">}</span>

  ...

  &lt;PARENT NODE NAME FOR SKILL_N&gt;:<span class="o">{</span>
    <span class="s1">'level_1'</span>: <span class="o">[</span>
      <span class="o">{</span> <span class="s1">'name'</span>: &lt;milkyway skill&gt;
        <span class="s1">'seachable_name'</span>: &lt;milkyway skill&gt;
        <span class="s1">'agencies'</span>: <span class="o">[]</span>
      <span class="o">}</span>
      ...
    <span class="o">]</span>,
    <span class="s1">'level_2'</span>: <span class="o">[</span>
      <span class="o">{</span> <span class="s1">'name'</span>: &lt;milkyway skill&gt;
        <span class="s1">'seachable_name'</span>: &lt;milkyway skill&gt;
        <span class="s1">'agencies'</span>: <span class="o">[]</span>
      <span class="o">}</span>
      ...
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<ul>
<li>The skeleton represents the relevant skills space for the input skills.

<ol>
<li>On the first level (<code>level_1</code>), there are milkyway skills that could represent an exact match to the input skill.</li>
<li>On the second level (<code>level_2</code>), there are closest milkyway skills in the skills space related to the input skill.
<br></li>
</ol></li>
<li>As the network does not know the entities that have one skill or another, skeleton needs to be fulfilled with entities. For each milkyway skill in the skeleton, entities will be retrieved from milkyway database.

<ol>
<li>With one milkyway skill, more entity skills will be retrieved using db translations. Then, for each entity skill, entities will be retrieved and added to the skeleton.</li>
</ol></li>
</ul>

<!-- AUTOCOMPLETE ENDPOINT DOC -->
<h2 id='autocomplete-endpoint'><strong>Autocomplete endpoint</strong></h2>
<aside class="warning">
Bearer token needed for authentification!
</aside>

<blockquote>
<p>Shell command:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 --header <span class="s2">"Authorization: Bearer &lt;ACCESS_TOKEN&gt;"</span><span class="se">\</span>
 --request GET <span class="se">\</span>
 https://milkyway.sortlist.com/v1/&lt;ENVIRONMENT&gt;/skills?prefix<span class="o">=</span>&lt;PREFIX&gt;&amp;limit<span class="o">=</span>&lt;LIMIT&gt;
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
  <span class="o">{</span>
   <span class="s2">"skills"</span>: <span class="o">[</span>
       <span class="s2">"branding"</span>,
       <span class="s2">"brand awareness"</span>,
       <span class="s2">"branding identity"</span>,
       <span class="s2">"brand design"</span>,
       <span class="s2">"brand identity design"</span>,
       <span class="s2">"brand guidelines"</span>,
       <span class="s2">"brand development"</span>,
       <span class="s2">"browser window"</span>,
       <span class="s2">"breakpoint"</span>,
       <span class="s2">"broadcast production"</span>
   <span class="o">]</span>
  <span class="o">}</span>
<span class="o">]</span>
</code></pre><h3 id='http-request-3'>Http Request</h3>
<p><code>GET https://milkyway.sortlist.com/v1/</code><strong><code>environment</code></strong><code>/skills?</code><strong><code>prefix</code></strong><code>=&lt;prefix&gt;&amp;</code><strong><code>limit</code></strong><code>=&lt;limit&gt;</code></p>
<h3 id='path-parameters-3'>Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Necessary</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong><code>environment</code></strong></td>
<td><code>yes</code></td>
<td><code>string</code></td>
<td><code>Environment in which you want to store data staging/prod</code></td>
</tr>
</tbody></table>
<h3 id='query-parameters-3'>Query Parameters</h3>
<table><thead>
<tr>
<th>Query parameter</th>
<th>Necessary</th>
<th>Default value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong><code>prefix</code></strong></td>
<td><code>yes</code></td>
<td><code>-</code></td>
<td><code>string</code></td>
<td><code>Prefix string for searched skills.</code></td>
</tr>
<tr>
<td><strong><code>limit</code></strong></td>
<td><code>no</code></td>
<td><code>10</code></td>
<td><code>int</code></td>
<td><code>Prefix string for searched skills.</code></td>
</tr>
</tbody></table>
<h3 id='description-3'>Description</h3>
<p>Endpoint specialized in returning milkyway skills starting with a prefix.<br>
All the skill nodes will be retrieved from MW and only those starting with the specified query param prefix will be returned.</p>

<!-- AUTOSUGGESTENDPOINT DOC -->
<h2 id='autosuggest-endpoint'><strong>Autosuggest endpoint</strong></h2>
<aside class="warning">
Bearer token needed for authentification!
</aside>

<blockquote>
<p>Shell command:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
 --header <span class="s2">"Authorization: Bearer &lt;ACCESS_TOKEN&gt;"</span><span class="se">\</span>
 --request GET <span class="se">\</span>
 https://milkyway.sortlist.com/v1/&lt;ENVIRONMENT&gt;/suggestions?skills[]<span class="o">=</span>&lt;SKILL_1&gt;&amp;skills[]<span class="o">=</span>&lt;SKILL_2&gt;&amp;limit<span class="o">=</span>10
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
  <span class="o">{</span>
   <span class="s2">"skills"</span>: <span class="o">[</span>
       <span class="s2">"graphic"</span>,
       <span class="s2">"javascript"</span>,
       <span class="s2">"typography"</span>,
       <span class="s2">"framework"</span>,
       <span class="s2">"architecture"</span>,
       <span class="s2">"application programming interface"</span>,
       <span class="s2">"design process"</span>,
       <span class="s2">"cascading style sheets"</span>,
       <span class="s2">"aesthetic"</span>,
       <span class="s2">"client side"</span>
   <span class="o">]</span>
  <span class="o">}</span>
<span class="o">]</span>
</code></pre><h3 id='http-request-4'>Http Request</h3>
<p><code>GET https://milkyway.sortlist.com/v1/</code><strong><code>environment</code></strong><code>/suggestions?</code><strong><code>skills[]</code></strong><code>=&lt;skill_1&gt;&amp;</code><strong><code>skills[]</code></strong><code>=&lt;skill_2&gt;</code><strong><code>limit</code></strong><code>=&lt;limit&gt;</code></p>
<h3 id='path-parameters-4'>Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Necessary</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong><code>environment</code></strong></td>
<td><code>yes</code></td>
<td><code>string</code></td>
<td><code>Environment in which you want to store data staging/prod</code></td>
</tr>
</tbody></table>
<h3 id='query-parameters-4'>Query Parameters</h3>
<table><thead>
<tr>
<th>Query parameter</th>
<th>Necessary</th>
<th>Default value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong><code>skills[]</code></strong></td>
<td><code>yes</code></td>
<td><code>10</code></td>
<td><code>string</code></td>
<td><code>Input skills</code></td>
</tr>
<tr>
<td><strong><code>limit</code></strong></td>
<td><code>no</code></td>
<td><code>10</code></td>
<td><code>int</code></td>
<td><code>Prefix string for searched skills.</code></td>
</tr>
</tbody></table>
<h3 id='description-4'>Description</h3>
<p>Endpoint specialized in returning a list of suggested skills based on input skills.<br>
Based on an input list of skills, a list of related skills (suggestions) will be retrieved from MW.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
